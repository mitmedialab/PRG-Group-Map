# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - name: Dev Server
    init: npm install
    command: |
      git pull 
      export PRG_BRANCH="$(date +$(git config user.email | cut -d@ -f1)/gitpod/%Y-%m-%d-%H-%M-%S)"
      export PRG_BRANCH="$(date +$(git config user.email | cut -d@ -f1))"
      git checkout -b $PRG_BRANCH
      git push -- --set-upstream origin $PRG_BRANCH
      export CLIENT_URL="$(gp url 35729)/livereload.js?snipver=1&port=443"
      npm run dev
    openMode: 'split-right'
ports:
  - port: 8000
    onOpen: open-preview
  - port: 35729
    onOpen: ignore